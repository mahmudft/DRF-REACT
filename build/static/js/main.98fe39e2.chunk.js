(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{193:function(e,t,c){},194:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(56),r=c.n(a),i=c(206),o=c(141),l=c(142),s=c(149),j=c(148),u=c(79),d=c(146),b=c(52),h=c(4),O=function(e){Object(s.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(o.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={activeItem:"ecommerce"},e.handleItemClick=function(t,c){var n=c.name;return e.setState({activeItem:n})},e}return Object(l.a)(c,[{key:"render",value:function(){var e=this.state.activeItem;return Object(h.jsx)("div",{style:{padding:"10px"},children:Object(h.jsxs)(d.a,{inverted:!0,color:"black",children:[Object(h.jsx)(d.a.Item,{header:!0,color:"orange",name:"Ecommerce",active:"ecommerce"===e,onClick:this.handleItemClick,as:u.b,to:"/"}),Object(h.jsx)(d.a.Item,{color:"orange",name:"cart",active:"cart"===e,onClick:this.handleItemClick,header:!0,as:u.b,to:"/card",children:Object(h.jsx)(b.a,{name:"shopping cart",size:"large"})}),Object(h.jsx)(d.a.Menu,{position:"right",children:Object(h.jsx)(d.a.Item,{name:"profile",active:"profile"===e,onClick:this.handleItemClick,as:u.b,to:"/profile",children:Object(h.jsx)(b.a,{name:"user circle",color:"orange",size:"large"})})})]})})}}]),c}(n.Component),x=c(11),g=c(13),p=c(208),f=c(106),m=c.n(f),v=localStorage.getItem("token"),C=m.a.create({baseURL:"http://localhost:8000/",headers:{Authorization:"Token ".concat(v)}}),S=c(147),k=c(211);function I(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(0),o=Object(g.a)(r,2),l=o[0],s=o[1],j=window.Stripe("pk_test_51IIC1qAKAvY9WGPpVsxkdTng7zPiWzF3aIcAdNnpAbFjdUtDExwDhYHPA7se8gXSEca2wjdS8hhKeF5j6yoUkoqb00wxLGwMCQ");function u(e){C.post("/api/deleteorder/",{id:e.currentTarget.id}).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){C.get("/api/orders/").then((function(e){a(e.data.data),s(e.data.total)})).catch((function(e){return console.log(e)}))}),[]),"message"===c[0]?Object(h.jsx)("h1",{children:"Cart is empty"}):Object(h.jsx)(i.a,{children:Object(h.jsxs)(p.a,{divided:!0,size:"big",children:[c.map((function(e){return Object(h.jsxs)(p.a.Item,{children:[Object(h.jsx)(p.a.Content,{floated:"right",children:Object(h.jsxs)("button",{style:{backgroundColor:"transparent",border:"none",outline:"none"},id:e.track_id,onClick:function(e){return u(e)},children:[" ",Object(h.jsx)(b.a,{name:"trash alternate",color:"purple",onClick:u})]})}),Object(h.jsx)(S.a,{avatar:!0,src:e.product.photo}),Object(h.jsx)(p.a.Content,{children:e.product.title}),Object(h.jsxs)(p.a.Content,{floated:"right",children:[" ",Object(h.jsxs)("h3",{style:{color:"teal"},children:[" $",e.product.price," "]})," "]})]})})),Object(h.jsxs)(p.a.Item,{children:[Object(h.jsx)(k.a,{color:"purple",onClick:function(){console.log(j),C.post("/api/checkout/").then((function(e){return e.data})).then((function(e){return j.redirectToCheckout({sessionId:e.id.id})})).catch((function(e){return console.error("error:",e)}))},children:"Checkout"}),Object(h.jsx)(p.a.Content,{floated:"right",children:Object(h.jsxs)("h2",{style:{color:"purple"},children:[l," $"]})})]})]})})}var y=c(150),w=c(209),A=c(109),F=m.a.create({baseURL:"http://localhost:8000/",headers:{"Content-Type":"application/json"}});function E(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),i=Object(g.a)(r,2),o=i[0],l=i[1];return console.log(o),Object(n.useEffect)((function(){F.get("/api/products/").then((function(e){return e.data})).then((function(e){return a(e)}))}),[]),Object(h.jsx)("div",{style:{padding:"5px"},children:Object(h.jsx)(y.a,{container:!0,columns:2,children:c.map((function(e){return Object(h.jsx)(y.a.Column,{width:4,children:Object(h.jsxs)(w.a,{children:[Object(h.jsx)(S.a,{src:e.photo,wrapped:!0,ui:!1}),Object(h.jsxs)(w.a.Content,{children:[Object(h.jsx)(w.a.Header,{children:e.title}),Object(h.jsx)(w.a.Description,{children:Object(h.jsxs)(A.a,{as:"a",color:"purple",tag:!0,children:[e.price,"$"]})})]}),Object(h.jsx)(w.a.Content,{extra:!0,children:Object(h.jsx)(k.a,{"data-column":e.id,circular:!0,color:"red",onClick:function(e){return function(e){var t=e.currentTarget.getAttribute("data-column");C.post("/api/addcart/",{id:t}).then((function(e){return l(e.data.message)}))}(e)},children:Object(h.jsx)(b.a,{name:"add to cart"})})})]})})}))})})}var P=c(213),T=c(124),L=c(207),U=c(210);function z(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),i=Object(g.a)(r,2),o=i[0],l=i[1],s=Object(n.useState)(""),j=Object(g.a)(s,2),u=j[0],d=j[1],b=Object(n.useState)(""),O=Object(g.a)(b,2),x=O[0],p=O[1];return Object(h.jsx)(y.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(h.jsxs)(y.a.Column,{style:{maxWidth:600},children:[Object(h.jsx)(P.a,{as:"h2",color:"teal",textAlign:"center",children:"Log in"}),Object(h.jsxs)(T.a,{color:"black",children:[Object(h.jsxs)(L.a,{onSubmit:function(e){return function(e){e.preventDefault(),F.post("auth/login/",{username:c,email:o,password:u}).then((function(e){return e.data})).then((function(e){localStorage.setItem("token",e.key)})).catch((function(e){return p(e.message)}))}(e)},children:[Object(h.jsxs)(L.a.Field,{required:!0,children:[Object(h.jsx)("label",{children:"Username"}),Object(h.jsx)("input",{placeholder:"Username",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(h.jsxs)(L.a.Field,{required:!0,children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{placeholder:"Email",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(h.jsxs)(L.a.Field,{required:!0,children:[Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{placeholder:"Password",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(h.jsx)(k.a,{type:"submit",color:"black",children:"Submit"})]}),Object(h.jsx)(U.a,{children:Object(h.jsx)(U.a.Header,{children:x})})]})]})})}var D=c(214);function q(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),i=Object(g.a)(r,2),o=i[0],l=i[1],s=Object(n.useState)(""),j=Object(g.a)(s,2),u=j[0],d=j[1],b=Object(n.useState)(""),O=Object(g.a)(b,2),x=O[0],p=O[1],f=Object(n.useState)(""),m=Object(g.a)(f,2),v=m[0],C=m[1];return Object(h.jsx)(y.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(h.jsxs)(y.a.Column,{style:{maxWidth:600},children:[Object(h.jsx)(P.a,{as:"h2",color:"teal",textAlign:"center",children:"Sign up"}),Object(h.jsxs)(T.a,{color:"black",children:[Object(h.jsxs)(L.a,{onSubmit:function(e){return function(e){e.preventDefault();var t=F.post("/auth/registration/",{username:c,email:o,password1:u,password2:x}).then((function(e){return console.log(e.data)})).then();if(200===t.status)return C("Succesfully Registered!");200!==t.status&&C(t.error)}(e)},children:[Object(h.jsxs)(L.a.Field,{children:[Object(h.jsx)("label",{children:"Username"}),Object(h.jsx)("input",{placeholder:"Username",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(h.jsxs)(L.a.Field,{children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{placeholder:"Email",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(h.jsxs)(L.a.Field,{children:[Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{placeholder:"Password",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(h.jsxs)(L.a.Field,{children:[Object(h.jsx)("label",{children:"Repeat Password"}),Object(h.jsx)("input",{placeholder:"Password",value:x,onChange:function(e){return p(e.target.value)}})]}),Object(h.jsx)(k.a,{type:"submit",color:"orange",children:"Submit"})]}),Object(h.jsx)(U.a,{children:Object(h.jsx)(U.a.Header,{children:v})})]})]})})}localStorage.getItem("token"),localStorage.getItem("email");var H=function(){var e=Object(n.useState)(),t=Object(g.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)({}),o=Object(g.a)(r,2),l=(o[0],o[1],localStorage.getItem("token")),s=localStorage.getItem("email"),j=Object(n.useState)(""),u=Object(g.a)(j,2);if(u[0],u[1],Object(n.useEffect)((function(){C.get("/auth/user/").then((function(e){a(e.data.username),localStorage.setItem("email",e.data.email)})).catch((function(e){return console.log(e)}))}),[]),console.log(c),l&&s)return Object(h.jsxs)(i.a,{children:[Object(h.jsxs)("h1",{children:["you are logged as ",s]}),Object(h.jsx)(k.a,{color:"orange",onClick:function(){localStorage.clear()},children:" Logout"})]});if(!c){var d=[{menuItem:"Sign up",render:function(){return Object(h.jsx)(q,{})}},{menuItem:"Login",render:function(){return Object(h.jsx)(z,{})}}];return Object(h.jsx)(i.a,{children:Object(h.jsx)(D.a,{menu:{secondary:!0,pointing:!0},panes:d})})}},R=function(){return Object(h.jsx)("h1",{children:"Thanks for purchasing , we will reach you soon"})},W=function(){return Object(h.jsx)("h1",{color:"red",children:"Order have been failed"})};var $=function(){return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(i.a,{children:Object(h.jsx)(O,{})}),Object(h.jsxs)(x.c,{children:[Object(h.jsx)(x.a,{exact:!0,path:"/",children:Object(h.jsx)(E,{})}),Object(h.jsx)(x.a,{path:"/card",children:Object(h.jsx)(I,{})}),Object(h.jsx)(x.a,{exact:!0,to:"/profile",children:Object(h.jsx)(H,{})}),Object(h.jsx)(x.a,{exact:!0,to:"/login",children:Object(h.jsx)(z,{})}),Object(h.jsx)(x.a,{exact:!0,to:"/signup",children:Object(h.jsx)(q,{})}),Object(h.jsx)(x.a,{exact:!0,to:"/success",children:Object(h.jsx)(R,{})}),Object(h.jsx)(x.a,{exact:!0,to:"/failed",children:Object(h.jsx)(W,{})})]})]})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,215)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};c(192),c(193);r.a.render(Object(h.jsx)($,{}),document.getElementById("root")),_()}},[[194,1,2]]]);